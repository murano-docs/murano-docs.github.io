<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:exsl="http://exslt.org/common" xmlns:ng="http://docbook.org/docbook-ng"><head>
<meta http-equiv="X-UA-Compatible" content="IE=7"/>
<title>Chapter 6. Upload Image Into Glance</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"/><link rel="home" href="index.html" title="Murano Administrator's Guide"/><link rel="up" href="index.html" title="Murano Administrator's Guide"/><link rel="prev" href="ch05s04.html" title="Finish process"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><script type="text/javascript">
            //The id for tree cookie
            var treeCookieId = "treeview-953";
            var language = "en";
            var w = new Object();
            //Localization
            txt_filesfound = 'Results';
            txt_enter_at_least_1_char = "You must enter at least one character.";
            txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
            txt_please_wait = "Please wait. Search in progress...";
            txt_results_for = "Results for: ";
        </script><style type="text/css">
            input {
            margin-bottom: 5px;
            margin-top: 2px;
            }

            .folder {
            display: block;
            height: 22px;
            padding-left: 20px;
            background: transparent url(../common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
            }
            
        </style><link rel="shortcut icon" href="../favicon.ico" type="image/x-icon"/><link rel="stylesheet" type="text/css" href="../common/css/positioning.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/treeview/jquery.treeview.css"/><script type="text/javascript" src="../common/jquery/jquery-1.4.2.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery-ui-1.8.2.custom.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery.cookie.js"><!----></script><script type="text/javascript" src="../common/jquery/treeview/jquery.treeview.min.js"><!----></script><script type="text/javascript" src="search/htmlFileList.js"><!----></script><script type="text/javascript" src="search/htmlFileInfoList.js"><!----></script><script type="text/javascript" src="search/nwSearchFnt.js"><!----></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"><!--//make this scalable to other languages as well.--></script><script type="text/javascript" src="search/index-1.js"><!----></script><script type="text/javascript" src="search/index-2.js"><!----></script><script type="text/javascript" src="search/index-3.js"><!----></script></head><body><div id="header"><img style="margin-right: 2px; height: 59px; padding-right: 25px; padding-top: 8px" align="right" src="../common/images/logo.png" alt="Company Logo"/><h1 align="center">Chapter 6. Upload Image Into Glance<br/> </h1><div id="navheader" align="right"><!----><table><tr><td style="height: 28px; width: 16px;"><a id="showHideButton" onclick="showHideToc();" class="pointLeft" title="Hide TOC tree">.
                            </a></td><td><img src="../common/images/highlight-blue.gif" alt="H" height="25px" onclick="toggleHighlight()" id="showHideHighlight" style="cursor:pointer" title="Toggle search result highlighting"/></td><td><a accesskey="p" href="ch05s04.html">Prev</a> </td></tr></table></div></div><div id="content"><!----><div class="chapter" title="Chapter 6. Upload Image Into Glance"><div class="titlepage"><div><div><h2 class="title"><a id="_post_building_setup"/>Chapter 6. Upload Image Into Glance</h2></div></div></div><p>
            Services deployed by Murano require specially prepared images, that can be created manually or via
            automated scripts. Please refer to corresponding chapters of this book to create image. After images are
            created they should be registered in Openstack Glance - image operation service.
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p> Use the glance image-create command to import your disk image to Glance:
                    </p><pre class="screen">&gt;$ glance image-create --name &lt;NAME&gt; \
     --is-public true --disk-format qcow2 \
     --container-format bare \
     --file &lt;IMAGE_FILE&gt; \
     --property &lt;IMAGE_METADATA&gt;</pre><p>
                </p><p>
                    Replace the command line arguments to glance image-create with the
                    appropriate values for your environment and disk image:
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Replace <span class="bold"><strong>&lt;NAME&gt;</strong></span> with the name that
                            users will refer to the disk image by. E.g. '<span class="bold"><strong>ws-2012-std</strong></span>'</p></li><li class="listitem"><p> Replace <span class="bold"><strong>&lt;IMAGE_FILE&gt;</strong></span> with the
                            local path to the image file to upload. E.g. '<span class="bold"><strong>ws-2012-std.qcow2</strong></span>'.</p></li><li class="listitem"><p> Replace IMAGE_METADATA with the following property string</p><pre class="screen">murano_image_info='{"title": "Windows 2012 Core Edition", "type": "ws-2012-core"}</pre><p>where</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>title - user-friendly description of the image</p></li><li class="listitem"><p>type - one of possible image types</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>ws-2012-std - Windows Server 2012 Standart
                                                  Edition</p></li><li class="listitem"><p>ws-2012-core - Windows 2012 Core
                                                  Edition</p></li><li class="listitem"><p>ws-2008r2-std - Windows Server 2008R2 Standart
                                                  Edition</p></li><li class="listitem"><p>ws-2008r2 - Windows Server 2012R2</p></li></ul></div></li></ul></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Setting <span class="emphasis"><em>murano_image_info</em></span> property is
                                    required to pick up image from Murano Dashboard.</p></div><p>
                        </p></li></ul></div></li><li class="listitem"><p>To update metadata of the existing image run the command:</p><pre class="screen">&gt;$ glance image-update &lt;IMAGE-ID&gt; --property &lt;IMAGE_MATADATA&gt;</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Replace <span class="bold"><strong>&lt;IMAGE-ID&gt;</strong></span> with image id
                            from the previous command output.</p></li><li class="listitem"><p> Replace <span class="bold"><strong>&lt;IMAGE_METADATA&gt;</strong></span> with
                            murano_image_info property,
                            e.g.</p><pre class="screen">murano_image_info='{"title": "Windows 2012 Core Edition",\
"type": "ws-2012-core"}'</pre></li></ul></div></li></ol></div><p>After these steps desired image can be chosen in Murano dashboard and used for services platform.</p></div><script type="text/javascript" src="../common/main.js"><!----></script><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s04.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></div><div><div id="leftnavigation" style="padding-top:3px; background-color:white;"><div id="tabs"><ul><li><a href="#treeDiv"><em>Contents</em></a></li><li><a href="#searchDiv"><em>Search</em></a></li></ul><div id="treeDiv"><img src="../common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none"><ul id="tree" class="filetree"><li><span class="file"><a href="ch01.html">General Deployment Steps</a></span><ul><li><span class="file"><a href="ch01s01.html">Prepare A Lab For Murano</a></span><ul><li><span class="file"><a href="ch01s01s01.html">Lab Requirements</a></span></li><li><span class="file"><a href="ch01s01s02.html">Test Your Lab Host Performance</a></span></li><li><span class="file"><a href="ch01s01s03.html">Baseline Bata</a></span></li><li><span class="file"><a href="ch01s01s04.html">Host Optimizations</a></span></li></ul></li><li><span class="file"><a href="ch01s02.html">Install OpenStack</a></span></li><li><span class="file"><a href="ch01s03.html">Configure OpenStack</a></span></li></ul></li><li><span class="file"><a href="ch02.html">Install Murano Components</a></span></li><li><span class="file"><a href="ch03.html">Prepare Image Builder</a></span><ul><li><span class="file"><a href="ch03s01.html">Image Builder</a></span><ul><li><span class="file"><a href="ch03s01s01.html">Install Required Packages</a></span></li><li><span class="file"><a href="ch03s01s02.html">Configure Shared Resource</a></span></li></ul></li><li><span class="file"><a href="ch03s02.html">Additional Software</a></span><ul><li><span class="file"><a href="ch03s02s01.html">Windows ADK</a></span></li><li><span class="file"><a href="ch03s02s02.html">Putty</a></span></li><li><span class="file"><a href="ch03s02s03.html">Windows Server 2012 ISO image</a></span></li><li><span class="file"><a href="ch03s02s04.html">VirtIO Red Hat drivers ISO image</a></span></li><li><span class="file"><a href="ch03s02s05.html">Floppy Image With Unattended File</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch04.html">Build Windows Image (Automatic Way)</a></span></li><li><span class="file"><a href="ch05.html">Build Windows Image (Manual Way)</a></span><ul><li><span class="file"><a href="ch05s01.html">Get Windows Post Install script</a></span></li><li><span class="file"><a href="ch05s02.html">Copy scripts to the shared folder</a></span></li><li><span class="file"><a href="ch05s03.html">Create guest VM</a></span><ul><li><span class="file"><a href="ch05s03s01.html">Way 1 - from console</a></span></li><li><span class="file"><a href="ch05s03s02.html">Way 2 - from virt-manager UI</a></span></li></ul></li><li><span class="file"><a href="ch05s04.html">Finish process</a></span></li></ul></li><li id="webhelp-currentid"><span class="file"><a href="ch06.html">Upload Image Into Glance</a></span></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="Verifie(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><center><input id="textToSearch" name="textToSearch" type="text" class="searchText"/> &nbsp; <input onclick="Verifie(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></center></fieldset></form></div><div id="searchResults"><center/></div></div></div></div></div></body></html>